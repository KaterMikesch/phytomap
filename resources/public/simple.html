<!doctype html>
<html ng-app>
<head>
    <meta charset="utf-8">
    <title>Freifunk Statistics</title>
    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script>
    function trans(msg, rot) {
		return msg.replace(/([a-z])/ig,
			function($1) {
				var c = $1.charCodeAt(0);
				return String.fromCharCode(
					c >= 97 ? (c + rot + 26 - 97) % 26 + 97
						: (c + rot + 26 - 65) % 26 + 65);
			});
 		}
    </script>
</head>
<body>

    <!-- pointing to cljsbuild generated js file -->
    <script src="js/phytomap.js"></script>

    <h2>Statistiken</h2>
    <div ng-controller="phytomap.test.StatsCtrl">
      <p>{{stats.length}} Knoten</p>
      <table class="unstyled">
      	<tr>
      	    <th>Knoten</th>
      		<th>Aufsteller</th>
      		<th>Latenz</th>
      	</tr>
        <tr ng-repeat="stat in stats">
          <td><b><a href="" ng-click="openSSH(stat.node_registration.name)">{{stat.node_registration.name}}</a></b> (MAC {{stat.mac}})</td>
          <td><a href="" ng-click="sendEmail(stat.node_registration.operator_name, stat.node_registration.operator_email)">{{stat.node_registration.operator_name}}</a></td>          
          <td>{{stat.stats.rtt_5_min}}</td>	
        </tr>
      </table>
    </div>

</body>
</html>
